Epx=window.Epx||{};Epx.Controls=window.Epx.Controls||{};Epx.Controls.SearchBox=function(){function watermarkFocus(control,defaultValue,cssValue){control.value==defaultValue&&(control.value="");$(control.parentNode.parentNode).addClass(cssValue);document.onkeydown=""}function watermarkBlur(control,defaultValue,cssValue){control.value==""&&(control.value=defaultValue);$(control.parentNode.parentNode).removeClass(cssValue);document.onkeydown=presskey}function watermarkOnSubmit(control,defaultValue,cssValue){control.value==defaultValue&&(control.value="",control.className=cssValue)}function searchBoxOnSubmit(control,textValue){var $textbox=control.elements.query.value;return $textbox!=textValue&&$textbox!=""?(control.submit(),!0):!1}function presskey(evt){if(evt=evt?evt:event?event:null,evt&&evt.keyCode==84){var target=evt.srcElement!=null?evt.srcElement:evt.target;if(target.tagName.toLowerCase()=="input"||target.tagName.toLowerCase()=="textarea"||evt.ctrlKey||evt.altKey)return}}return{watermarkFocus:watermarkFocus,watermarkBlur:watermarkBlur,watermarkOnSubmit:watermarkOnSubmit,searchBoxOnSubmit:searchBoxOnSubmit}}();